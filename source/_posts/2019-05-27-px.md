---
title: 像素级还原设计稿
date: 2019-05-27 13:24:47
tags: css
---
## 1.文档目的
精准清晰的理论基础有助于培养技术自信。
参考网址:[像素理论详解](http://mp.weixin.qq.com/s?__biz=MzA5NzkwNDk3MQ==&mid=2650589824&idx=1&sn=8e665900ff5ad912707e215a0bfedc3f&chksm=8891daa4bfe653b2891aab2bcfa4b51129a65ee0ade08a65545043feaea6813291320063b8d4&mpshare=1&scene=23&srcid=0602q4MMmCCe6pPUE1XNnYhH#rd),[rem](https://github.com/amfe/lib-flexible)

## 2.内容梳理
###2.1 核心概念解读:
**英寸:**屏幕对角线的长度,1英寸=2.54厘米
**分辨率:**表示对象在垂直和水平上像素(物理像素)点数的乘积(注:清晰度还与尺寸有关)
**PPI:**表示每英寸包括的像素(物理像素)数,反映了清晰度
**设备独立像素:**为保证新老设备显示效果基本一致,新设备在增大物理像素的同时,并不增加"设备独立像素",故1设备独立像素等于若干(@2x,@3x)物理像素.ReactNative开发中样式单位(dp)就是设备独立像素(ios尺寸单位pt,android尺寸单位dp同理),而UI设计的原型图一般是基于iphone6的物理像素,为了适配所有机型，我们在写样式时需要把物理像素转换为设备独立像素.浏览器开发者工具显示的移动端设备像素就是设备独立像素.web端开发中,当页面缩放比例为100%时,一个css像素就等于一个设备独立像素.
**设备像素比(dpr):**物理像素和设备独立像素的比值
**视口:**布局视口(css依赖的视口),视觉视口(通过屏幕可以看到的区域),理想视口(当页面缩放比例为100%时,理想视口=视觉视口,CSS像素=设备独立像素)
**安全区域:**为圆角,刘海和小黑条设计的解决方案

###2.2 H5适配手机主要有两个维度：
（1）适配不同像素密度(1像素对应多少物理像素,比如3倍屏@3x, 即1px对应9个物理像素[3x3])
（2）适配不同大小屏幕
问题一：图片如何在3倍屏和2倍屏上显示不失真？
答：1个图片像素对应1个物理像素，图片就不会失真[精准匹配需要借助媒体查询等手段]，简单粗暴的适配方案，就是针对所有屏幕，都只提供最高清图片,还有img标签的srcset等高级属性的应用。
问题二：如何适配不同大小屏幕？
答：原则是确保页面布局的度量与屏幕大小保持一定比例。例如通常设计稿是750像素，我们需要按比例还原（x / 750，eg: 75 / 750 = 10% ）。
实践中不能直接用百分比，因为它总是需要一个参照量，而且边框不支持百分比等问题。
rem:依赖根元素font-size属性的计算值
vw/vh: 1vw= 1%屏幕宽度 完美方案。
问题三：如何方便将px转换为vw?
答：[postcss-px-to-viewport插件](https://www.npmjs.com/package/postcss-px-to-viewport)
