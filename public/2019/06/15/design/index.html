<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="吾生也有涯，而知也无涯！以有涯随无涯，殆已；已而为知者，殆而已矣。"><meta name="keywords" content="LepinHeiker,h5,git,js"><title>设计模式解读 | LepinHeiker</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">设计模式解读</h1><a id="logo" href="/.">LepinHeiker</a><p class="description">吾生也有涯，而知也无涯！以有涯随无涯，殆已；已而为知者，殆而已矣。</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">设计模式解读</h1><div class="post-meta"><a href="/2019/06/15/design/#comments" class="comment-count"></a><p><span class="date">Jun 15, 2019</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h2 id="1-文档目的"><a href="#1-文档目的" class="headerlink" title="1.文档目的"></a>1.文档目的</h2><p>系统记录常见设计模式的js代码实现，加深理解设计模式的魅力。设计模式的意义在于:最佳实践提高代码重用，易于理解和维护<br>参考网址：<a href="https://www.w3cschool.cn/deep_learn_javascript/deep_learn_javascript-ljp4285i.html" target="_blank" rel="noopener">w3c设计模式</a></p>
<h2 id="2-设计模式"><a href="#2-设计模式" class="headerlink" title="2.设计模式"></a>2.设计模式</h2><h3 id="2-1设计原则"><a href="#2-1设计原则" class="headerlink" title="2.1设计原则"></a>2.1设计原则</h3><p><strong>单一职责原则SRP</strong>: 属性及其相关操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> *function: 产品添加到购物车</span><br><span class="line"> *前提认知：对象(属性及其对属性的操作)</span><br><span class="line"> *分析：产品(对象[id，desc])----添加到【事件驱动】---&gt;购物车(对象[被添加产品的集合，添加商品的func])</span><br><span class="line"> *添加行为分析：</span><br><span class="line"> * 首先得到若干产品实体，得到一个购物车实体</span><br><span class="line"> * 实体列表渲染在页面上，通过点击触发‘产品添加到购物车’的行为</span><br><span class="line"> * 思考：如何解耦业务？MVC思想：model实体，view展示，contralter控制器</span><br><span class="line"> *   进一步抽象：将公共行为抽象，统一方式触发</span><br><span class="line"> */</span><br><span class="line">function Event (name) &#123;</span><br><span class="line">  var handlers = []</span><br><span class="line"></span><br><span class="line">  this.getName = function () &#123;</span><br><span class="line">    return name</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  this.addHandler = function (handler) &#123;</span><br><span class="line">    handlers.push(handler)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  this.removeHandler = function (handler) &#123;</span><br><span class="line">    for (var i = 0; i &lt; handlers.length; i++) &#123;</span><br><span class="line">      if (handlers[i] == handler) &#123;</span><br><span class="line">        handlers.splice(i, 1)</span><br><span class="line">        break</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  this.fire = function (eventArgs) &#123;</span><br><span class="line">    handlers.forEach(function (h) &#123;</span><br><span class="line">      h(eventArgs)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function EventAggregator () &#123;</span><br><span class="line">  var events = []</span><br><span class="line"></span><br><span class="line">  function getEvent (eventName) &#123;</span><br><span class="line">    return $.grep(events, function (event) &#123;</span><br><span class="line">      return event.getName() === eventName</span><br><span class="line">    &#125;)[0]</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  this.publish = function (eventName, eventArgs) &#123;</span><br><span class="line">    var event = getEvent(eventName)</span><br><span class="line"></span><br><span class="line">    if (!event) &#123;</span><br><span class="line">      event = new Event(eventName)</span><br><span class="line">      events.push(event)</span><br><span class="line">    &#125;</span><br><span class="line">    event.fire(eventArgs)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  this.subscribe = function (eventName, handler) &#123;</span><br><span class="line">    var event = getEvent(eventName)</span><br><span class="line"></span><br><span class="line">    if (!event) &#123;</span><br><span class="line">      event = new Event(eventName)</span><br><span class="line">      events.push(event)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    event.addHandler(handler)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Product (id, description) &#123;</span><br><span class="line">  this.getId = function () &#123;</span><br><span class="line">    return id</span><br><span class="line">  &#125;</span><br><span class="line">  this.getDescription = function () &#123;</span><br><span class="line">    return description</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Cart (eventAggregator) &#123;</span><br><span class="line">  var items = []</span><br><span class="line"></span><br><span class="line">  this.addItem = function (item) &#123;</span><br><span class="line">    items.push(item)</span><br><span class="line">    // 这个操作，购物车添加产品的时候触发相关操作（由控制器处理）</span><br><span class="line">    eventAggregator.publish(&apos;itemAdded&apos;, item)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function CartController (cart, eventAggregator) &#123;</span><br><span class="line">  // 控制器监听</span><br><span class="line">  eventAggregator.subscribe(&apos;itemAdded&apos;, function (eventArgs) &#123;</span><br><span class="line">    var newItem = $(&apos;&lt;li&gt;&lt;/li&gt;&apos;)</span><br><span class="line">      .html(eventArgs.getDescription())</span><br><span class="line">      .attr(&apos;id-cart&apos;, eventArgs.getId())</span><br><span class="line">      .appendTo(&apos;#cart&apos;)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  eventAggregator.subscribe(&apos;productSelected&apos;, function (eventArgs) &#123;</span><br><span class="line">    cart.addItem(eventArgs.product)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">// 封装Model层，产品实体的获得可以通过任何形式，请求等</span><br><span class="line">function ProductRepository () &#123;</span><br><span class="line">  var products = [new Product(1, &apos;Star Wars Lego Ship&apos;), new Product(2, &apos;Barbie Doll&apos;), new Product(3, &apos;Remote Control Airplane&apos;)]</span><br><span class="line"></span><br><span class="line">  this.getProducts = function () &#123;</span><br><span class="line">    return products</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// 封装产品控制器，拿到产品并对产品操作(生成产品节点，并绑定事件)</span><br><span class="line">function ProductController (eventAggregator, productRepository) &#123;</span><br><span class="line">  var products = productRepository.getProducts()</span><br><span class="line"></span><br><span class="line">  function onProductSelected () &#123;</span><br><span class="line">    var productId = $(this).attr(&apos;id&apos;)</span><br><span class="line">    var product = $.grep(products, function (x) &#123;</span><br><span class="line">      return x.getId() == productId</span><br><span class="line">    &#125;)[0]</span><br><span class="line">    // 触发事件【同一类的事情，用同一类方式，对行为的封装】</span><br><span class="line">    eventAggregator.publish(&apos;productSelected&apos;, &#123;</span><br><span class="line">      product: product</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  products.forEach(function (product) &#123;</span><br><span class="line">    var newItem = $(&apos;&lt;li&gt;&lt;/li&gt;&apos;)</span><br><span class="line">      .html(product.getDescription())</span><br><span class="line">      .attr(&apos;id&apos;, product.getId())</span><br><span class="line">      .dblclick(onProductSelected)</span><br><span class="line">      .appendTo(&apos;#products&apos;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line">// 最外层执行，只是一系列的声明，逻辑就隐藏在内部</span><br><span class="line">;(function () &#123;</span><br><span class="line">  var eventAggregator = new EventAggregator()</span><br><span class="line">  var cart = new Cart(eventAggregator)</span><br><span class="line">  var cartController = new CartController(cart, eventAggregator)</span><br><span class="line">  var productRepository = new ProductRepository()</span><br><span class="line">  var productController = new ProductController(eventAggregator, productRepository)</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure></p>
<p><strong>最少知道原则</strong>：一个实体应当尽量少地与其他实体之间发生相互作用，强调降低耦合<br><strong>接口隔离原则</strong>：使用多个隔离的接口，比使用单个接口要好，强调降低耦合<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">var exampleBinder = &#123;&#125;</span><br><span class="line">exampleBinder.modelObserver = (function () &#123;</span><br><span class="line">  ;/ 私有变量 /</span><br><span class="line">  return &#123;</span><br><span class="line">    observe: function (model) &#123;</span><br><span class="line">      ;/ 代码 /</span><br><span class="line">      return newModel</span><br><span class="line">    &#125;,</span><br><span class="line">    onChange: function (callback) &#123;</span><br><span class="line">      ;/ 代码 /</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">exampleBinder.viewAdaptor = (function () &#123;</span><br><span class="line">  ;/ 私有变量 /</span><br><span class="line">  return &#123;</span><br><span class="line">    bind: function (model) &#123;</span><br><span class="line">      ;/ 代码 /</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line">exampleBinder.bind = function (model) &#123;</span><br><span class="line">  ;/ 私有变量 /</span><br><span class="line">  exampleBinder.modelObserver.onChange(/ 回调callback /)</span><br><span class="line">  var om = exampleBinder.modelObserver.observe(model)</span><br><span class="line">  exampleBinder.viewAdaptor.bind(om)</span><br><span class="line">  return om</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>开闭原则</strong>：对扩展开放，对修改关闭<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">function questionCreator (spec, my) &#123;</span><br><span class="line">  var that = &#123;&#125;</span><br><span class="line"></span><br><span class="line">  my = my || &#123;&#125;</span><br><span class="line">  my.label = spec.label</span><br><span class="line"></span><br><span class="line">  my.renderInput = function () &#123;</span><br><span class="line">    throw &apos;not implemented&apos;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  that.render = function (target) &#123;</span><br><span class="line">    var questionWrapper = document.createElement(&apos;div&apos;)</span><br><span class="line">    questionWrapper.className = &apos;question&apos;</span><br><span class="line"></span><br><span class="line">    var questionLabel = document.createElement(&apos;div&apos;)</span><br><span class="line">    questionLabel.className = &apos;question-label&apos;</span><br><span class="line">    var label = document.createTextNode(spec.label)</span><br><span class="line">    questionLabel.appendChild(label)</span><br><span class="line"></span><br><span class="line">    var answer = my.renderInput()</span><br><span class="line"></span><br><span class="line">    questionWrapper.appendChild(questionLabel)</span><br><span class="line">    questionWrapper.appendChild(answer)</span><br><span class="line">    return questionWrapper</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return that</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function choiceQuestionCreator (spec) &#123;</span><br><span class="line">  var my = &#123;&#125;</span><br><span class="line">  var that = questionCreator(spec, my)</span><br><span class="line"></span><br><span class="line">  my.renderInput = function () &#123;</span><br><span class="line">    var input = document.createElement(&apos;select&apos;)</span><br><span class="line">    var len = spec.choices.length</span><br><span class="line">    for (var i = 0; i &lt; len; i++) &#123;</span><br><span class="line">      var option = document.createElement(&apos;option&apos;)</span><br><span class="line">      option.text = spec.choices[i]</span><br><span class="line">      option.value = spec.choices[i]</span><br><span class="line">      input.appendChild(option)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return input</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return that</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function inputQuestionCreator (spec) &#123;</span><br><span class="line">  var my = &#123;&#125;</span><br><span class="line">  var that = questionCreator(spec, my)</span><br><span class="line"></span><br><span class="line">  my.renderInput = function () &#123;</span><br><span class="line">    var input = document.createElement(&apos;input&apos;)</span><br><span class="line">    input.type = &apos;text&apos;</span><br><span class="line">    return input</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  return that</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var view = &#123;</span><br><span class="line">  render: function (target, questions) &#123;</span><br><span class="line">    for (var i = 0; i &lt; questions.length; i++) &#123;</span><br><span class="line">      target.appendChild(questions[i].render())</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var questions = [</span><br><span class="line">  choiceQuestionCreator(&#123;</span><br><span class="line">    label: &apos;Have you used tobacco products within the last 30 days?&apos;,</span><br><span class="line">    choices: [&apos;Yes&apos;, &apos;No&apos;]</span><br><span class="line">  &#125;),</span><br><span class="line">  inputQuestionCreator(&#123;</span><br><span class="line">    label: &apos;What medications are you currently using?&apos;</span><br><span class="line">  &#125;)</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">var questionRegion = document.getElementById(&apos;questions&apos;)</span><br><span class="line"></span><br><span class="line">view.render(questionRegion, questions)</span><br></pre></td></tr></table></figure></p>
<p><strong>里氏代换原则</strong>：任何基类可以出现的地方，子类一定可以出现<br><strong>依赖倒转原则</strong>：依赖于抽象而不依赖于具体<br><strong>合成复用原则</strong>：尽量组合，而非继承</p>
<h3 id="2-2设计模式分类"><a href="#2-2设计模式分类" class="headerlink" title="2.2设计模式分类"></a>2.2设计模式分类</h3><p><strong>—创建型模式—</strong>(隐藏创建逻辑)：<br><strong>工厂模式</strong>：定义一个用于创建对象的接口，由子类决定实例化哪个类（厂长负责实施子类发出的任务）<br><strong>单例模式</strong>：在某空间提供唯一的访问点，保证一个类只有一个实例<br><strong>建造者模式</strong>：使同样的构建过程（eg:回调机制）可以创建不同的表示，而不用关注细节（回调的实现原理）<br><strong>原型模式</strong>：通过拷贝原型创建新对象，比如js里的prototype<br><strong>构造函数模式</strong>：模拟类，用于创建特定类型（类）的对象<br><strong>模板方法</strong>：定义操作的算法的骨架（抽象类），而将步骤实现延迟到子类中（子类重写父类方法）<br><strong>模板方法</strong>:定义一个操作中的算法的骨架，而将一些步骤延迟到子类重写<br><strong>—结构型模式—</strong>(组合继承获得新功能)：<br><strong>适配器模式</strong>：将一个类（对象）的接口（方法或属性）转化成客户希望的另外一个接口（比如：电脑充电器）<br><strong>桥接模式</strong>: 若不希望两个层次之间耦合，桥接模式可以使它们建立一个关联关系<br><strong>组合模式</strong>：将对象组合成树形结构以表示“部分-整体”的层次结构，使得用户对单个对象和组合对象的使用具有一致性。（eg:Dom都有增删改子节点的通用功能）<br><strong>装饰者模式</strong>：包装同接口的对象，通过重载方法的形式添加新功能（调用原始对象方法并扩展）<br><strong>外观模式</strong>：为一组接口提供一个高层接口，使得接口更容易使用<br><strong>代理模式</strong>：为其他对象提供一种代理以控制对这个对象的访问（eg：大叔代替小明送给女孩儿鲜花）<br><strong>—行为型模式—</strong>(对象通信)：<br><strong>职责链模式</strong>：使多个对象都有机会处理请求<br><strong>命令模式</strong>：用于将一个请求方法封装成一个对象（参数不同，命令不同）<br><strong>迭代器模式</strong>：为遍历不同的集合结构提供一个统一的接口<br><strong>中介者模式</strong>：比如多架飞机的通讯都是通过中控系统进行<br><strong>观察者模式</strong>：发布订阅模式<br><strong>策略模式</strong>：算法的相互替换不会影响到使用算法的客户</p>
<h3 id="2-4易混淆设计模式概念对比"><a href="#2-4易混淆设计模式概念对比" class="headerlink" title="2.4易混淆设计模式概念对比"></a>2.4易混淆设计模式概念对比</h3><p><strong>适配</strong>器则意味着改变一个<strong>已有对象</strong>的接口。<br><strong>代理</strong>模式在不改变原有接口的条件下，用另一个对象定义了一个代理<br>装饰者模式<strong>增强</strong>了其它对象的功能而同时又不改变它的接口<br>桥接的目的是将接口部分和实现部分分离，从而对他们可以更为容易也相对独立的加以改变。</p>
<h3 id="2-5项目中实战分析举例"><a href="#2-5项目中实战分析举例" class="headerlink" title="2.5项目中实战分析举例"></a>2.5项目中实战分析举例</h3><p>(1)工厂模式：switch逻辑外部定义一个统一的接口，通过参数决定具体执行路线，比如Redux中action的调用<br>(2)观察者模式:比如点击事件就是一种最常见的发布订阅模式addEventListener，再比如vue中的data和rn中的state,对其改变时，依赖它的对象都将得到通知和更新<br>(3)策略模式：比如表单校验中针对不同的表单类型进行不同的校验实现</p>
<h2 id="3-实例研读"><a href="#3-实例研读" class="headerlink" title="3.实例研读"></a>3.实例研读</h2><h3 id="3-1构造函数模式"><a href="#3-1构造函数模式" class="headerlink" title="3.1构造函数模式"></a>3.1构造函数模式</h3><p>构造函数模式：用于创建特定类型（类）的对象[可接收参数以便第一次创建对象时设置成员值]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 注：这里将属性和方法都写在构造函数中，那么每个新的实例都会不同，若需共享，应绑定至prototype</span><br><span class="line">function Animal(name) &#123;</span><br><span class="line">    this.name = name;</span><br><span class="line">&#125;</span><br><span class="line">//注意：这里我们使用了Object.prototype.方法名，而不是Object.prototype</span><br><span class="line">//主要是用来避免重写定义原型prototype对象</span><br><span class="line">Animal.prototype.getName= function () &#123;</span><br><span class="line">    return &apos;该动物的名称&apos; + this.name</span><br><span class="line">&#125;;</span><br><span class="line">var animal = new Animal(&quot;老虎&quot;);</span><br><span class="line">console.log(animal.getName());</span><br></pre></td></tr></table></figure></p>
<h3 id="3-2原型模式"><a href="#3-2原型模式" class="headerlink" title="3.2原型模式"></a>3.2原型模式</h3><p>通过拷贝原型创建新对象[在上面构造函数的基础上利用原型模式实现继承]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function Cat()&#123;&#125;</span><br><span class="line">// 拷贝继承</span><br><span class="line">Cat.prototype = Animal.prototype;</span><br><span class="line">// 恢复constructor</span><br><span class="line">Cat.prototype.constructor = Cat;</span><br><span class="line">// 实例化</span><br><span class="line">var cat = new Cat(&quot;花小猫&quot;);</span><br><span class="line">console.log(cat.getName()) // 花小猫</span><br></pre></td></tr></table></figure></p>
<h3 id="3-3单例模式"><a href="#3-3单例模式" class="headerlink" title="3.3单例模式"></a>3.3单例模式</h3><p>单例模式：保证一个类只有一个实例<br>实现的方法是先判断实例是否存在，若存在则直接返回，否则再创建<br>用途：单例作为命名空间提供者，保证在某空间中提供一个唯一的访问点<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">var SingletonTester = (function () &#123;</span><br><span class="line">    //参数：传递给单例的一个参数集合</span><br><span class="line">    function Singleton(args) &#123;</span><br><span class="line">        //设置args变量为接收的参数或者为空（如果没有提供的话）</span><br><span class="line">        var args = args || &#123;&#125;;</span><br><span class="line">        //设置name参数</span><br><span class="line">        this.name = &apos;SingletonTester&apos;;</span><br><span class="line">        //设置pointX的值</span><br><span class="line">        this.pointX = args.pointX || 6; //从接收的参数里获取，或者设置为默认值</span><br><span class="line">        //设置pointY的值</span><br><span class="line">        this.pointY = args.pointY || 10;</span><br><span class="line">    &#125;</span><br><span class="line">    //实例容器</span><br><span class="line">    var instance;</span><br><span class="line">    var _static = &#123;</span><br><span class="line">        name: &apos;SingletonTester&apos;,</span><br><span class="line">        //获取实例的方法</span><br><span class="line">        //返回Singleton的实例</span><br><span class="line">        getInstance: function (args) &#123;</span><br><span class="line">            if (instance === undefined) &#123;</span><br><span class="line">                instance = new Singleton(args);</span><br><span class="line">            &#125;</span><br><span class="line">            return instance;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    return _static;</span><br><span class="line">&#125;)();</span><br><span class="line">var singletonTest = SingletonTester.getInstance(&#123; pointX: 5 &#125;);</span><br><span class="line">console.log(singletonTest.pointX); // 输出 5</span><br></pre></td></tr></table></figure></p>
<h3 id="3-3工厂模式"><a href="#3-3工厂模式" class="headerlink" title="3.3工厂模式"></a>3.3工厂模式</h3><p>工厂模式定义了一个用于创建对象的接口(做的是同一类事情)，这个接口由子类决定实例化哪一个类(子类决定具体的不同实现)。<br>该模式使一个类的实例化延迟到了子类。<br>工程模式应该有厂长，负责调度实施任务<br>eg:switch动态匹配就是该模式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// 对象方式</span><br><span class="line">var productManager = &#123;&#125;;</span><br><span class="line">&lt;!-- A类型实现 --&gt;</span><br><span class="line">productManager.createProductA = function () &#123;</span><br><span class="line">    console.log(&apos;ProductA&apos;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;!-- B类型实现 --&gt;</span><br><span class="line">productManager.createProductB = function () &#123;</span><br><span class="line">    console.log(&apos;ProductB&apos;);</span><br><span class="line">&#125;</span><br><span class="line">&lt;!-- 厂长负责调度 --&gt;</span><br><span class="line">productManager.factory = function (typeType) &#123;</span><br><span class="line">    return new productManager[typeType];</span><br><span class="line">&#125;</span><br><span class="line">productManager.factory(&quot;createProductA&quot;);</span><br><span class="line">// 方法方式的&quot;厂长&quot;调度器</span><br><span class="line">function switchFun(type)&#123;</span><br><span class="line">  switch(type)&#123;</span><br><span class="line">    case &apos;ProductA&apos;:</span><br><span class="line">      console.log(&apos;ProductA&apos;)</span><br><span class="line">      break</span><br><span class="line">    case &apos;ProductB&apos;:</span><br><span class="line">      console.log(&apos;ProductB&apos;)</span><br><span class="line">      break</span><br><span class="line">    default:</span><br><span class="line">      console.log(&apos;nothing&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">switchFun(&quot;ProductA&quot;);</span><br></pre></td></tr></table></figure></p>
<h3 id="3-4桥接模式"><a href="#3-4桥接模式" class="headerlink" title="3.4桥接模式"></a>3.4桥接模式</h3><p>若不希望两个层次之间耦合，桥接模式可以使它们建立一个关联关系。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// 事件绑定与处理事件的方法定义</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  // 抽象代码不可直接运行</span><br><span class="line">  function getBeerById(id, callback) &#123;</span><br><span class="line">    asyncRequest(&apos;GET&apos;, &apos;beer.uri?id=&apos; + id, function(resp) &#123;</span><br><span class="line">      callback(resp.responseText)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  // getBeerByIdBridge桥接原理:将addEvent直接调用getBeerById的定义分离</span><br><span class="line">  // addEvent只是调用了一个桥,桥只是&apos;调用了getBeerById&apos;,而getBeerById的定义则被抽离</span><br><span class="line">  // 优点:使得处理事件的方法实现得以分离,则该方法方便被重用,而且getBeerByIdBridge也方便调用其他处理事件的方法</span><br><span class="line">  addEvent(element, &apos;click&apos;, getBeerByIdBridge)</span><br><span class="line">  function getBeerByIdBridge(e) &#123;</span><br><span class="line">    getBeerById(this.id, function(res) &#123;</span><br><span class="line">      console.log(&apos;Requested:&apos; + res)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-5外观模式"><a href="#3-5外观模式" class="headerlink" title="3.5外观模式"></a>3.5外观模式</h3><p>如果需要调用一组接口实现一个更大的功能,那么就把这些方法放在一起组成一个新的方法,从而简化调用<br>eg:阻止事件默认行为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function handleClick(e) &#123;</span><br><span class="line">    e.preventDefault();</span><br><span class="line">    e.stopPropagation();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-6模板方法"><a href="#3-6模板方法" class="headerlink" title="3.6模板方法"></a>3.6模板方法</h3><p>定义一个操作中的算法的骨架，而将一些步骤延迟到子类重写<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    // 抽象步骤</span><br><span class="line">    var MakeDrink = function() &#123;&#125;</span><br><span class="line">    MakeDrink.prototype.step = function() &#123;</span><br><span class="line">      this.boilWater()</span><br><span class="line">      this.addDrink()</span><br><span class="line">      this.cover()</span><br><span class="line">    &#125;</span><br><span class="line">    MakeDrink.prototype.boilWater = function() &#123;</span><br><span class="line">      console.log(&apos;将水烧开!&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">    MakeDrink.prototype.addDrink = function() &#123;</span><br><span class="line">      throw new Error(&apos;该方法必须重写!&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">    MakeDrink.prototype.cover = function() &#123;</span><br><span class="line">      console.log(&apos;盖上盖子!&apos;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 冲咖啡</span><br><span class="line">    var Coffee = function() &#123;</span><br><span class="line">      MakeDrink.apply(this)</span><br><span class="line">    &#125;</span><br><span class="line">    Coffee.prototype = new MakeDrink()</span><br><span class="line">    Coffee.prototype.addDrink = function() &#123;</span><br><span class="line">      console.log(&apos;添加咖啡!&apos;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //冲茶叶</span><br><span class="line">    var Tea = function() &#123;</span><br><span class="line">      MakeDrink.apply(this)</span><br><span class="line">    &#125;</span><br><span class="line">    Tea.prototype = new MakeDrink()</span><br><span class="line">    Tea.prototype.addDrink = function() &#123;</span><br><span class="line">      console.log(&apos;添加茶叶!&apos;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 验证调用</span><br><span class="line">    var coffee1 = new Coffee()</span><br><span class="line">    coffee1.step()</span><br><span class="line">    console.log(&apos;--------分割线----------&apos;)</span><br><span class="line">    var tea1 = new Tea()</span><br><span class="line">    tea1.step()</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-7策略模式"><a href="#3-7策略模式" class="headerlink" title="3.7策略模式"></a>3.7策略模式</h3><p>校验表单<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  // 策略处理类</span><br><span class="line">  let validator = &#123;</span><br><span class="line">    types: &#123;&#125;, // 验证规则处理类,后面会扩展各种规则的定义</span><br><span class="line">    config: &#123;&#125;, // 定义需要使用的验证类型</span><br><span class="line">    messages: [], // 验证所对应的错误消息集合</span><br><span class="line">    validate: function(data) &#123;</span><br><span class="line">      // 暴露的公开验证方法,参数类型为obj,data是原始数据</span><br><span class="line">      let msg, type, validateTypeFun, result_ok</span><br><span class="line">      this.messages = [] // 清空所有的错误信息</span><br><span class="line">      for (let key in data) &#123;</span><br><span class="line">        if (data.hasOwnProperty(key)) &#123; //原始数据中是否包含可枚举的字段key</span><br><span class="line">          type = this.config[key] // 用户为字段key配置的验证规则是什么?比如isNonEmpty</span><br><span class="line">          validateTypeFun = this.types[type] // 获取验证规则对应的验证方法是否已定义</span><br><span class="line">          if (!type) &#123;</span><br><span class="line">            continue // 如果针对key的验证规则未配置，则不处理</span><br><span class="line">          &#125;</span><br><span class="line">          if (!validateTypeFun) &#123; // 如果验证方法为定义，抛出异常</span><br><span class="line">            throw &#123;</span><br><span class="line">              name: &apos;ValidationError&apos;,</span><br><span class="line">              message: &apos;该类型无对应处理方法:&apos; + type</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          result_ok = validateTypeFun.validate(data[key]) //正常验证</span><br><span class="line">          if (!result_ok) &#123;</span><br><span class="line">            msg = &apos;非法值&apos; + key + &apos;, &apos; + validateTypeFun.instructions</span><br><span class="line">            this.messages.push(msg)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      return this.hasErrors()</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    // helper</span><br><span class="line">    hasErrors: function() &#123;</span><br><span class="line">      return this.messages.length !== 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 验证给定的值是否不为空</span><br><span class="line">  validator.types.isNotEmpty = &#123;</span><br><span class="line">    validate: function(value) &#123;</span><br><span class="line">      return value !== &apos;&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    instructions: &apos;传入的值不能为空&apos;</span><br><span class="line">  &#125;</span><br><span class="line">  // 验证给定的值是否是数字</span><br><span class="line">  validator.types.isNumber = &#123;</span><br><span class="line">    validate: function(value) &#123;</span><br><span class="line">      return !isNaN(value)</span><br><span class="line">    &#125;,</span><br><span class="line">    instructions: &apos;传入的值只能是合法的数字，例如：1, 3.14 or 2010&apos;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 定义需要验证的数据集合和需要验证的规则类型</span><br><span class="line">  var data = &#123;</span><br><span class="line">    first_name: &apos;&apos;,</span><br><span class="line">    age: &apos;unknown&apos;</span><br><span class="line">  &#125;</span><br><span class="line">  validator.config = &#123;</span><br><span class="line">    first_name: &apos;isNotEmpty&apos;,</span><br><span class="line">    age: &apos;isNumber&apos;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 测试获取验证结果</span><br><span class="line">  validator.validate(data)</span><br><span class="line">  if (validator.hasErrors()) &#123;</span><br><span class="line">    console.log(validator.messages.join(&apos;\n&apos;))</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-8适配器模式"><a href="#3-8适配器模式" class="headerlink" title="3.8适配器模式"></a>3.8适配器模式</h3><p>鸭子和狗都有行走(fly,run)和叫声(sound)行为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  // 抽象行为</span><br><span class="line">  var Duck = function() &#123;&#125;</span><br><span class="line">  Duck.prototype.fly = function() &#123;</span><br><span class="line">    throw new Error(&apos;该方法必须被重写!&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">  var Dog = function() &#123;&#125;</span><br><span class="line">  Dog.prototype.run = function() &#123;</span><br><span class="line">    throw new Error(&apos; 该方法必须被重写!&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">  // 定义构造函数</span><br><span class="line">  var DuckObj = function() &#123;</span><br><span class="line">    Duck.apply(this)</span><br><span class="line">  &#125;</span><br><span class="line">  DuckObj.prototype = new Duck()</span><br><span class="line">  DuckObj.prototype.fly = function() &#123;</span><br><span class="line">    console.log(&apos;鸭子可以飞起来!&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">  var DogObj = function() &#123;</span><br><span class="line">    Dog.apply(this)</span><br><span class="line">  &#125;</span><br><span class="line">  DogObj.prototype = new Dog()</span><br><span class="line">  DogObj.prototype.run = function() &#123;</span><br><span class="line">    console.log(&apos;狗可以跑的很快!&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">  // 鸭子适配器:使得鸭子可以支持狗的run方法,同时使其自身飞的快5倍</span><br><span class="line">  var DuckAdapter = function(oDuck) &#123;</span><br><span class="line">    Duck.apply(this)</span><br><span class="line">    this.oDuck = oDuck</span><br><span class="line">  &#125;</span><br><span class="line">  DuckAdapter.prototype = new Duck()</span><br><span class="line">  DuckAdapter.prototype.run = function() &#123;</span><br><span class="line">    // 虽然方法名字是dog的run,但是内部实现可以任意,只是为了适配</span><br><span class="line">    this.oDuck.fly()</span><br><span class="line">  &#125;</span><br><span class="line">  // 重新定义fly实现,相当于对fly进行了重写</span><br><span class="line">  DuckAdapter.prototype.fly = function() &#123;</span><br><span class="line">    var nFly = 0</span><br><span class="line">    var nLenFly = 3</span><br><span class="line">    for (; nFly &lt; nLenFly; ) &#123;</span><br><span class="line">      this.oDuck.fly()</span><br><span class="line">      nFly = nFly + 1</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // 测试</span><br><span class="line">  var oDuck = new DuckObj()</span><br><span class="line">  var oDug = new DogObj()</span><br><span class="line">  var oDuckAdapter = new DuckAdapter(oDuck)</span><br><span class="line"></span><br><span class="line">  console.log(&apos;---------原有的鸭子行为-------&apos;)</span><br><span class="line">  oDuck.fly()</span><br><span class="line">  console.log(&apos;---------原有的狗行为-------&apos;)</span><br><span class="line">  oDug.run()</span><br><span class="line">  console.log(&apos;---------适配器鸭子的行为（鸭子调用狗的方法名称）-------&apos;)</span><br><span class="line">  oDuckAdapter.run()</span><br><span class="line">  console.log(&apos;---------适配器鸭子的行为（鸭子原有fly行为被重写,调用了3遍）-------&apos;)</span><br><span class="line">  oDuckAdapter.fly()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-9代理模式"><a href="#3-9代理模式" class="headerlink" title="3.9代理模式"></a>3.9代理模式</h3><p>大叔代理小明送给美女鲜花<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  var Girl = function(name) &#123;</span><br><span class="line">    this.name = name</span><br><span class="line">  &#125;</span><br><span class="line">  var Xiaoming = function(girl) &#123;</span><br><span class="line">    this.girl = girl</span><br><span class="line">    this.sendFlower = function(flower) &#123;</span><br><span class="line">      console.log(&apos;Hi &apos; + girl.name + &apos;, xiaoming送你一个礼物：&apos; + flower)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // 大叔代理</span><br><span class="line">  var ProxyMan = function(girl) &#123;</span><br><span class="line">    this.girl = girl</span><br><span class="line">    this.sendFlower = function(flower) &#123;</span><br><span class="line">      new Xiaoming(girl).sendFlower(flower) //代替小明送花咯</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // 测试</span><br><span class="line">  var proxyMan = new ProxyMan(new Girl(&apos;酸奶小妹&apos;))</span><br><span class="line">  proxyMan.sendFlower(&apos;999朵玫瑰&apos;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-10装饰者模式"><a href="#3-10装饰者模式" class="headerlink" title="3.10装饰者模式"></a>3.10装饰者模式</h3><p>比继承更有弹性的替代方案,通过重载方法的形式扩展功能<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 实例1:重写原方法 --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  function Macbook() &#123;</span><br><span class="line">    this.cost = function() &#123;</span><br><span class="line">      return 1000</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  function Memory(macbook) &#123;</span><br><span class="line">    this.cost = function() &#123;</span><br><span class="line">      return macbook.cost() + 75</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // </span><br><span class="line">  var myMacbook = new Memory(new Macbook())</span><br><span class="line">  console.log(myMacbook.cost())</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;!-- 实例二:重写原方法的一部分(有调用点的方法调用) --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  // 被装饰者</span><br><span class="line">  function ConcreteClass() &#123;</span><br><span class="line">    this.performTask = function() &#123;</span><br><span class="line">      this.preTask()</span><br><span class="line">      console.log(&apos;doing something&apos;)</span><br><span class="line">      this.postTask()</span><br><span class="line">    &#125;</span><br><span class="line">    this.preTask = function() &#123;</span><br><span class="line">      console.log(&apos;原有执行之前...&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">    this.postTask = function() &#123;</span><br><span class="line">      console.log(&apos;原有执行之后...&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // 抽象装饰</span><br><span class="line">  function AbstractDecorator(decorated) &#123;</span><br><span class="line">    this.performTask = function() &#123;</span><br><span class="line">      decorated.performTask()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // 定义具体装饰:重写preTask和postTask</span><br><span class="line">  function ConcreteDecoratorClass(decorated) &#123;</span><br><span class="line">    this.base = AbstractDecorator</span><br><span class="line">    this.base(decorated)</span><br><span class="line">    decorated.preTask = function() &#123;</span><br><span class="line">      console.log(&apos;装饰执行之前...&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">    decorated.postTask = function() &#123;</span><br><span class="line">      console.log(&apos;装饰执行之后...&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // 测试</span><br><span class="line">  var decorator1 = new ConcreteDecoratorClass(new ConcreteClass())</span><br><span class="line">  decorator1.performTask()</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;!-- 实例三:重写原方法的一部分(无调用点) --&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">  var tree = &#123;&#125;</span><br><span class="line">  tree.decorate = function() &#123;</span><br><span class="line">    console.log(&apos;树木初始化...&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">  // 添加装饰器定义</span><br><span class="line">  tree.addDecorator = function(deco) &#123;</span><br><span class="line">    tree[deco].prototype = this</span><br><span class="line">    return new tree[deco]()</span><br><span class="line">  &#125;</span><br><span class="line">  tree.Leaves = function() &#123;</span><br><span class="line">    this.decorate = function() &#123;</span><br><span class="line">      this.Leaves.prototype.decorate()</span><br><span class="line">      console.log(&apos;添加一些树叶...&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  tree.Flower = function() &#123;</span><br><span class="line">    this.decorate = function() &#123;</span><br><span class="line">      this.Flower.prototype.decorate()</span><br><span class="line">      console.log(&apos;添加一些花朵...&apos;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  // 测试</span><br><span class="line">  tree = tree.addDecorator(&apos;Leaves&apos;)</span><br><span class="line">  tree = tree.addDecorator(&apos;Flower&apos;)</span><br><span class="line">  tree.decorate() //执行Flower的decorate方法,并依次向上递归调用</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-11组合模式"><a href="#3-11组合模式" class="headerlink" title="3.11组合模式"></a>3.11组合模式</h3><p>菜单和菜单项都有类似的公共行为:“整体-部分”的层次结构,用户对单个对象和组合对象的使用具有一致性<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">  // 抽象类</span><br><span class="line">  var MenuComponent = function() &#123;&#125;</span><br><span class="line">  MenuComponent.prototype.getName = function() &#123;</span><br><span class="line">    throw new Error(&apos;该方法必须重写!&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">  MenuComponent.prototype.print = function() &#123;</span><br><span class="line">    throw new Error(&apos;该方法必须重写!&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">  MenuComponent.prototype.add = function() &#123;</span><br><span class="line">    throw new Error(&apos;该方法必须重写!&apos;)</span><br><span class="line">  &#125;</span><br><span class="line">  // 菜单</span><br><span class="line">  var Menu = function(sName) &#123;</span><br><span class="line">    MenuComponent.apply(this)</span><br><span class="line">    this.aMenuComponents = []</span><br><span class="line">    this.sName = sName</span><br><span class="line">  &#125;</span><br><span class="line">  Menu.prototype = new MenuComponent()</span><br><span class="line">  Menu.prototype.getName = function() &#123;</span><br><span class="line">    return this.sName</span><br><span class="line">  &#125;</span><br><span class="line">  Menu.prototype.print = function() &#123;</span><br><span class="line">    console.log(&apos;-----菜单名称:&apos; + this.getName())</span><br><span class="line">    this.aMenuComponents.forEach(function(item) &#123;</span><br><span class="line">      item.print()</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  Menu.prototype.add = function(oMenuComponent) &#123;</span><br><span class="line">    this.aMenuComponents.push(oMenuComponent)</span><br><span class="line">  &#125;</span><br><span class="line">  // 菜单项</span><br><span class="line">  var MenuItem = function(sName) &#123;</span><br><span class="line">    MenuComponent.apply(this)</span><br><span class="line">    this.sName = sName</span><br><span class="line">  &#125;</span><br><span class="line">  MenuItem.prototype = new MenuComponent()</span><br><span class="line">  MenuItem.prototype.getName = function() &#123;</span><br><span class="line">    return this.sName</span><br><span class="line">  &#125;</span><br><span class="line">  MenuItem.prototype.print = function() &#123;</span><br><span class="line">    console.log(&apos;-----菜单项名称:&apos; + this.getName())</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  // 调用测试</span><br><span class="line">  var menu1 = new Menu(&apos;菜单一&apos;)</span><br><span class="line">  menu1.add(new MenuItem(&apos;菜单项一&apos;))</span><br><span class="line">  menu1.add(new MenuItem(&apos;菜单项二&apos;))</span><br><span class="line">  menu1.print()</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-12建造者模式"><a href="#3-12建造者模式" class="headerlink" title="3.12建造者模式"></a>3.12建造者模式</h3><p>回调是个很好的例子,将不变的构建算法封装起来(eg:getBeerById),变化的回调处理部分分离出去(callback之后的定制化操作),不用关心构建的具体过程和回调的调用地方,<br>而且可以存着多个回调,比如ajax的success,error回调等,只需要使用,而不用关心其相对稳定的建造细节<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 封装相对稳定的建造算法 --&gt;</span><br><span class="line">function getBeerById(id, callback) &#123;</span><br><span class="line">    &lt;!-- 调用者不用关心内部实现细节 --&gt;</span><br><span class="line">    asyncRequest(&apos;GET&apos;, &apos;beer.uri?id=&apos; + id, function (resp) &#123;</span><br><span class="line">        // 不用关心回调执行的地方</span><br><span class="line">        callback(resp.responseText);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var el = document.querySelector(&apos;#test&apos;);</span><br><span class="line">el.addEventListener(&apos;click&apos;, getBeerByIdBridge, false);</span><br><span class="line"></span><br><span class="line">function getBeerByIdBridge(e) &#123;</span><br><span class="line">    &lt;!-- 回调调用 --&gt;</span><br><span class="line">    getBeerById(this.id, function (beer) &#123;</span><br><span class="line">        &lt;!-- 关心的部分 --&gt;</span><br><span class="line">        console.log(&apos;Requested Beer: &apos; + beer);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</div><div class="tags"><a href="/tags/JS/">JS</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2019/06/30/native/" class="pre">基于React Native的android原生代码实现</a><a href="/2019/06/15/prototype/" class="next">prototype原型链与构造函数法模拟类</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-文档目的"><span class="toc-text">1.文档目的</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-设计模式"><span class="toc-text">2.设计模式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1设计原则"><span class="toc-text">2.1设计原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2设计模式分类"><span class="toc-text">2.2设计模式分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4易混淆设计模式概念对比"><span class="toc-text">2.4易混淆设计模式概念对比</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5项目中实战分析举例"><span class="toc-text">2.5项目中实战分析举例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-实例研读"><span class="toc-text">3.实例研读</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1构造函数模式"><span class="toc-text">3.1构造函数模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2原型模式"><span class="toc-text">3.2原型模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3单例模式"><span class="toc-text">3.3单例模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3工厂模式"><span class="toc-text">3.3工厂模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4桥接模式"><span class="toc-text">3.4桥接模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5外观模式"><span class="toc-text">3.5外观模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6模板方法"><span class="toc-text">3.6模板方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7策略模式"><span class="toc-text">3.7策略模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-8适配器模式"><span class="toc-text">3.8适配器模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-9代理模式"><span class="toc-text">3.9代理模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-10装饰者模式"><span class="toc-text">3.10装饰者模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-11组合模式"><span class="toc-text">3.11组合模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-12建造者模式"><span class="toc-text">3.12建造者模式</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/tool/" style="font-size: 15px;">tool</a> <a href="/tags/JS/" style="font-size: 15px;">JS</a> <a href="/tags/life/" style="font-size: 15px;">life</a> <a href="/tags/React/" style="font-size: 15px;">React</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">四月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">三月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">十一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.ruanyifeng.com/blog/javascript/" title="阮一峰js博客" target="_blank">阮一峰js博客</a><ul></ul><a href="http://es6.ruanyifeng.com/" title="ES6教程" target="_blank">ES6教程</a><ul></ul><a href="https://www.githubs.cn/" title="Github中文社区" target="_blank">Github中文社区</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Xiaobo Zhu.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>